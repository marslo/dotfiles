#!/usr/bin/env bash
#=============================================================================
#     FileName : git-blob-fd
#       Author : marslo
#      Created : 2026-01-28 00:27:44
#   LastChange : 2026-01-28 00:27:44
#=============================================================================

set -euo pipefail

declare hash="$1"
test -n "${hash:-}" || { echo "Usage: $0 <blob-hash>" >&2; exit 1; }

# or: git log --all --find-object="${hash}" --pretty=format:"%H %an %cd %s"
while read -r commit; do
  git for-each-ref --contains "${commit}";
done< <(git log --all --find-object="${hash}" --pretty=format:"%H")

# vim:tabstop=2:softtabstop=2:shiftwidth=2:expandtab:filetype=sh:
